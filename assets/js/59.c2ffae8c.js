(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{341:function(t,a,e){"use strict";e.r(a);var s=e(14),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"浏览存储专题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览存储专题"}},[t._v("#")]),t._v(" 浏览存储专题")]),t._v(" "),a("p",[t._v("20220115 第二遍学习总结 铭科苑F6")]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("总结：本地存储分为：Cookie、WebStorage（localStorage、sessionStorage）、IndexedDB（还在发展中）")])])])]),t._v(" "),a("h2",{attrs:{id:"cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[t._v("#")]),t._v(" Cookie")]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("最初是为了弥补HTTP状态管理的不足，因为HTTP协议是无状态的，实现"),a("code",[t._v("状态存储")]),t._v("。")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("本质上是存储在浏览器中的一个很小的文本文件，同一域名下的请求都会携带Cookie，服务器拿到后进行解析。")])])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("缺陷")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("容量上")]),t._v(" "),a("td",[t._v("只能存储"),a("code",[t._v("4K")])])]),t._v(" "),a("tr",[a("td",[t._v("性能上")]),t._v(" "),a("td",[t._v("同一域名下的请求都会携带Cookie，会造成巨大的性能浪费")])]),t._v(" "),a("tr",[a("td",[t._v("安全上")]),t._v(" "),a("td",[t._v("以纯文本的形式传输，易被非法截获；在httponly为false下，会被JS脚本读取")])])])]),t._v(" "),a("p",[t._v("思考总结：")]),t._v(" "),a("ol",[a("li",[t._v("存储的API，面试真题，获取document.cookie得到的是以"),a("code",[t._v("；")]),t._v("分割的字符串。")])]),t._v(" "),a("h2",{attrs:{id:"localstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#localstorage"}},[t._v("#")]),t._v(" localStorage")]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("同一个域名下，会存储相同的一段localStorage。（和Cookie一致）")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("存储的都是字符串，如果想存储对象，用"),a("code",[t._v("JSON.stringify()")]),t._v("进行转换，获取时用"),a("code",[t._v("JSON.parse()")]),t._v("进行解析")])])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("与Cookie的区别")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("容量上")]),t._v(" "),a("td",[t._v("针对一个域名上限是5M，持久存储")])]),t._v(" "),a("tr",[a("td",[t._v("性能&安全上")]),t._v(" "),a("td",[t._v("只存客户端，默认不参与通信")])]),t._v(" "),a("tr",[a("td",[t._v("接口封装")]),t._v(" "),a("td",[t._v("localStorage暴露在全局，通过localStorage.getItem()、localStorage.setItem()进行获取和存储，非常方便")])])])]),t._v(" "),a("p",[t._v("思考总结：")]),t._v(" "),a("ol",[a("li",[t._v("一级域名下、二级域名的获取情况，a.baidu.com、baidu.com，"),a("strong",[t._v("duxiaoman二面真题")]),t._v("，结论是都能获取到")])]),t._v(" "),a("h2",{attrs:{id:"sessionstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sessionstorage"}},[t._v("#")]),t._v(" sessionStorage")]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("在容量上、性能&安全上、接口封装上和localStorage完全一致，唯一不同的是：不是持久存储，会话结束（页面关闭）时存储就也消失了。")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("应用场景：表单维护，页面刷新信息也不会丢失；存储本次浏览记录，eg：微博；")])])])]),t._v(" "),a("h2",{attrs:{id:"indexeddb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#indexeddb"}},[t._v("#")]),t._v(" IndexedDB")]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("运行在浏览器端的"),a("code",[t._v("非关系型数据库")]),t._v("，理论上容量是没有上限的。")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API/Using_IndexedDB",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用文档 MDN"),a("OutboundLink")],1)])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"3"}},[a("li",[t._v("特点：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.1")]),t._v(" 支持事务、存储二进制数据  \n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.2")]),t._v(" 键值对存储\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.3")]),t._v(" 异步操作。读写数据库是"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("I")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("O")]),t._v("操作，浏览器对异步"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("I")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("O")]),t._v("进行了支持。  \n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.4")]),t._v(" 受同源策略限制，即无法访问跨域的数据库。  \n")])])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"4"}},[a("li",[t._v("还在发展中，各个浏览器厂商没有形成一定的规范。")])])])]),t._v(" "),a("p",[t._v("参考：")]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6844904021308735502",target:"_blank",rel:"noopener noreferrer"}},[t._v("(1.6w字)浏览器灵魂之问，请问你能接得住几个？"),a("OutboundLink")],1),t._v(" : 第2篇: 能不能说一说浏览器的本地存储？各自优劣如何？")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);