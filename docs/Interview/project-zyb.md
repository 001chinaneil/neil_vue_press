# 20210615-作业帮

## 求职目标
1. 薪酬30%
2. 入职Top类公司：D7、L7、K3b/K3c、P6+
3. 汇报leader是前端出身
4. C端&&B端项目，有技术 || 管理的可能性 
5. todo  
    5.1 个税扣减情况，阶梯税率情况
    5.2 股票情况
    5.3 期权情况，期权价格
6. 快手联合招聘(社区内容/运营效能/本地生活)
    一面：本地生活；二面：交叉面；三面：部门负责人；  
    HR刘桐君是个传话的小兵；  
    (填目前薪资和流水、期望薪资总包)  
    HRBP面：贴近业务的  
    谈薪HR：  
    (薪酬主管：如果上面谈薪HR搞不定的话)：  
7. HRBP面问题：    
    7.1 招聘的业务团队的情况  
    7.2 我会入哪个业务团队？汇报上级是谁？团队人数情况？  
    7.3 当前业务团队所属的一级大部门是什么？  

## 小程序建站
* 简述：从0到1自主推动落地小程序建站，找出痛点、推动解决、架构设计、Code产出、交付使用

### 系统特点
1. 24小时在线支持个性化更换素材、课程、流程：释放95%的研发人力，95%的产品人力，95%测试人力
2. 覆盖多个小程序（12个）场景、多条业务线、多端(uni-app)；
3. 可视化画布、所见即所得；
4. **线下真机实时预览**：二维码带参(测试版、正式版、某一版)，代码解析参数
5. **支持快速回滚版本**：内部有数据版本概念

### 整体架构设计
1. 涉及到的系统：宿主运行环境、本身系统环境、微信生态Sass系统；
2. 利用模板组的设计模式搭建全流程；通过小程序码实现线下真机测试；

### 基础建设（系统推出的技术背景）
1. 独立模块的封装，实现高度复用：工具函数模块(npm)、支付模块、登录模块、授权模块、拼团模块、图片模块、多种形式的固底按钮、订单模块
2. 制定小程序方向的开发规范： 
全局数据持久化存储(globalData)；  
封装组件的规范：抽象到最小单元；组件内逻辑形成闭环(支付模块)，提供配置入口供外部使用；单一职责，开闭原则；  
3. 开发、测试、提审、发布全流程的掌握
4. 短信跳小程序、H5跳小程序、二维码识别能力(微信用户生态)、利用Canvas生成分享海报

### 痛点描述（业务能力）
1. 业务迭代迅速，时效性强；
2. 稳定性要求高，(登录上报、支付、广告模型)导致研发&测试很谨慎；
3. 提审发版重复动作耗时耗力，时间不可控；

### 稳定性如何保证
1. **代码保证**：代码review、自动化测试(miniprogram-simulate)、组件抽象(单一职责，闭环逻辑)、核心代码的重试机制(登录上报)、核心流程登录支付固定保留测试、代码规范保障
2. 前后端核心逻辑的**兜底策略**，比如小程序的本地化存储机制
3. **上线前自动化测试**：走一遍核心case的，保证流程正常
4. **线上服务**有24小时监控系统持续运行，有异常钉钉报警
5. **线后有巡检系统**，持续主动发现问题，并进行异常报警(针对H5搭建系统)

### 小程序性能优化
TODO
1. [腾讯课堂小程序性能极致优化——综合篇](https://mp.weixin.qq.com/s?__biz=MzI1ODE4NzE1Nw==&mid=2247490060&idx=1&sn=76b56bd4d3565cbf6abfb99abfc1c921&chksm=ea0d50f6dd7ad9e09e765def4873de0690699e107f3212bf89e28b6f1c60afde6e36baa70366&scene=178&cur_album_id=1751402241124532228#rd)
```js
定位：启动慢、请求慢、交互慢
// 启动层面
1. 减少代码包体积：独立分包，静态资源上传CDN
2. 降低代码复杂度
3. 减少同步代码接口调用
4. 降低页面结构复杂度
5. 减少自定义组件数量

// 请求层面
1. 冷启动开启数据预拉取
2. 页面路由切换时提前拉取数据
3. 对数据进行缓存

// 交互层面
1. wx.request最大并发是10个，首页分步渲染
2. 保障与用户相关的接口正常发送
```

2. [腾讯课堂小程序性能极致优化——网络请求优化篇](https://link.juejin.cn/?target=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI1ODE4NzE1Nw%3D%3D%26mid%3D2247490094%26idx%3D1%26sn%3Dfd8ce44a8d90beae9637645894d309dd%26chksm%3Dea0d50d4dd7ad9c270a4133bea3274a705e902100836c70126269a62b686d25024499c435f6f%26scene%3D21%23wechat_redirect)
1. [腾讯课堂小程序性能极致优化——独立分包和性能测速上报](https://juejin.cn/post/6989244664561811469)
2. 官链：[分包加载](https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages.html)

### 过程难点
1. 系统抽象设计：比如模板组的设计模式，灵活高效；热插拔机制；全局配置和模板配置的关系；组件和模板的关系；
2. 组件抽离标准：单一职责，闭环逻辑
3. 稳定性考量：比如模板和数据的对应关系：通过数据大版本号，模板自身携带版本数据；兜底策略
4. 多端宿主运行环境的兼容：比如uni-app兼容微信、百度、支付宝，登录支付功能
5. 跨组沟通协作：
leader的支持（如果稳定性不强，不如不搞）;  
产品组的沟通协同;  
微信生态Sass服务的推动：真机实时可视预览功能，组内前后端协作;  

### 工作原理
1. 渲染层和逻辑层的隔离，单独的线程，集成在微信APP里面

### 其他问题
1. **其他热更新方案**：(**安卓VirtualView**，通过XML来搭建业务组件，并将XML编译成二进制数据，然后主体框架解析二进制数据并渲染出视图；微信的Tinker)(IOS，Object-C天生动态，运行时随意替换方法，可是后来被封，必须一起签名才可以，后来的劫持操作)
2. 如何跨端通信：webview(src传参、postMessage)、Hybrid(桥接)todo

## H5自动化搭建系统(洛书)
1. （5部分）edit用户编辑端、pack服务打包编译端、auto-test巡检系统、组件包(6个)、工具包utils
2. 系统原理：  
    2.1 注册组件：组件包名、组件名、配置项setting  
    2.2 自动化搭建(画布)：组件列表、配置列表、componentArr(映射关系)  
    2.3 打包构建：利用Koa框架自动执行构建命令  
    2.4 SSR：prerender-spa-plugin(PuppeteerRenderer)、pm2管理进程、thread-loader开启多进程、渲染  
    2.5 静态集群(staticfile)、CDN：HTML存后端库，其他静态资源全部上CDN  
    2.6 部署(节点、CICD、容器化)  
3. pack: **实例、队列**
4. 实现建站个性化版本号功能：保存版本号、读取package.json版本号，合并&回写版本号，解决了**对接各方渠道**的痛点问题。  
    4.1 痛点：测试环境联调不畅；渠道对链接有线上要求；高仿真不如来真的；不测不能上线，不上线不能测的矛盾点；  
    4.2 方案：画布中自定义版本号；自定义版本号和实际版本号的合并处理；编译机器的正常编译发包。            
5. 系统事件构造：全局event-bus；
6. 组件间通信：定义actionType；

## B端封装组件
1. 增删改查，TS，Vuex，封装组件
2. 因业务&抽离太复杂，导致可维护性变差。(伏羲331)  
**B端常见优化**：
1. UI库的按需引入，main.js
2. webpack-bundle-analyzer的依赖分析，进行针对性的优化
3. 路由懒加载：在router里面进行配置
4. 选择性的使用prefetch、preload
5. 拆分node_module，optimization.splitChunks 配置，从app.js里面抽离出来
6. html-webpack-plugin进行自定义文件位置，比如把核心文件放置其他类库上面，先加载解析
7. prerenderSpaPlugin进行预加载
8. 静态资源全部上公司CDN的，再开始image-webpack-loader

## 监控
1. 报警监控：钉钉报警
2. 巡检系统: chrome无头浏览器
3. 自动化测试: 
4. 性能监控：pma、apm

## 其他问题
### 自我介绍：
1. 姓名、当前公司、业务线
2. 技术栈：Vue全家桶、TS、Node、Git、微信小程序(uni-app)    
3. 推动小程序建站、多端框架uniapp；参与自动化搭建系统；B端系统的开发
4. 倾向目标公司，喜爱技术、可以快速融入团队，对公司有强烈意愿
5. 优势：**跨端、低代码Low Code/No Code平台、工程架构层面有思考和实践体会**

### 未来职业规划：
1. 落地能在技术细分领域对行业内有影响力的产品或产出
2. 得到一线管理岗的锻炼机会(目前担任新同学导师)

### 离职原因：
深思熟虑的结果
1. 因外部政策，目前需求稀少，而且偏离了自己的技术挑战方向。
2. 想延长技术生命周期，感受一下行业Top级别公司的项目挑战，可以开拓自己技术视野，丰富技术触觉，就像在河里游泳和在海里游泳，感觉和收获是有巨大差别的。
3. 对快手覆盖受众、业务范围非常感兴趣，家人对此非常有好感。  
   所以看看外部机会。

### 当前不足、待提升能力或关注点：
1. 技术前沿层面：了解它、思考它、落地它
    GraphQL：一种API查询语言，可以拓展前端范畴  
    痛点：沟通成本太大  
    核心：Schema(接口类型)、Query、Mutation、Subscrition  
    框架：apollo-server-express  
2. 业务通盘的理解力、判断力，避免研发视角的狭隘，拥有产品意识。
3. 用技术优势解决业务痛点的能力，协同跨组沟通、定目标拿结果主动push的能力
4. 架构能力还没有特别精通(是一个精益求精的过程)、多场景的业务不多(电商、直播)

### 优点：
1. 扎扎实实搞业务，踏踏实实做产出；

### 各轮面试要求
* 一面(资深)：考察基础知识和动手编码能力
    1. 编码算法：排序、去重
* 二面(leader)：项目深度和基础知识深度
    1. 知识深度：浏览器、Vue、工程化
    2. 微服务的架构落地，见结果
* 三面(总监)：业务关注度、跨组沟通能力、技术前沿度、性格
    1. 协同能力：小程序建站、基于地域动态化页面(打标签、AB实验、replace、数据团队)

### 资深的要求：【重点】
1. 能主导技术难点
2. 能指导新同学
3. 有跨部门沟通能力 
4. 发现业务痛点并解决的能力

### 岗位前景：
1. 公司新业务/公司大老板主导或关注的
2. 有人，有新人的坑，这样来了容易当组长
3. **上级给机会**，不反感
4. **项目有可搞的**，可以施展才华，可以做大，项目范围大，话语权就大。

### 预期目标：
1. 融洽的技术团队；
2. 处于上升期的平台：Boss；处于挑战性的平台：度小满

### 自己做组长的优势：
1. 技术实现的预判能力：海报的Canvas能力(截屏实现)、超强交互下的性能问题(异步下载、分层优化)
2. 产品业务思维：水平滚动滑动交互、需求背景的深层原理(基于地域IP，省份的选择)
3. 超强的跨部门沟通能力：同理心为基础，给对方一定的预期。

### 做组长的措施：导师的标准TODO

### 反问的问题
1. 所属部门及简单介绍，所属团队在该部门的功能定位和价值。

### BOSS三面的问题回复：
1. 首先，自己还年轻，做2-3年网络SDK层面的基础建设，对自己夯实基础是有帮助的
2. 然后，应用层面的实践，其实丢不下，已经驾轻就熟了，也没什么变化了
3. 其次，您说其他团队离职率高，必有其原因，不如接着面，一面二面聊得挺好的，遇到好队友也是加分项。而且BOSS是目前互联网企业里面为数不多的处于上升期的公司。

### 参链
1. [项目经验](https://blog.csdn.net/weixin_34059951/article/details/86400722)